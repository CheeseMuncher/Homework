# Meta Edit
A command line application to modify a collection of files' names and metadata according to some convention

## Setup

  * You need to have [.Net Core installed on your machine](https://docs.microsoft.com/en-us/dotnet/core/install/)
  * Clone this repository, e.g. to `cd "C:\Code"`
  * Cmd to the main project, e.g. `cd "C:\Code\MetaEdit\MetaEdit"`
  * Compile as required by your system, e.g. `dotnet build -c Release -o "../../../Apps/MetaEdit" -r ubuntu.20.04-x64`
  * From the compile location run the app with, e.g.`MetaEdit -c TotalRecall -s "C:\Calls" -d CallLog.csv -t false -r true`


## Usage

```
    MetaEdit [-c|--convention] [-s|--source] [-d|--destination] [-f|--file-data] [-t|--trial-run] [-r|--replace]
```

  * `-c|--convention` 
  The convention that will be used to try to extract information from the file name. Defaults to TotalRecall. The application will validate the input and print out valid inputs if validation fails.
  Available values are:  
  [TotalRecall](https://play.google.com/store/apps/details?id=com.killermobile.totalrecall) although file naming is now configurable  
  [AllCallRecorder](https://play.google.com/store/apps/details?id=androidlab.allcall)  

  * `-s|--source` 
  The source directory the application will scan for files to work on. Defaults to a nested folder called 'data'.

  * `-d|--destination` 
  The destination directory the application will write data to. Defaults to a nested folder called 'output'. If the replace flag is set, this will be ignored.

  * `-f|--file-data` 
  The name of a file where supplementary data will be obtained from to work with in the source folder. Defaults to 'callLog.csv'. Currently only used for TotalRecall convention.

  * `-t|--trial-run` 
  Safety feature. When the trial-run flag is set, the application will print the expected output to the console without modifying any data. Defaults to true.

  * `-r|--replace` 
  When the replace flag is set, the application overwrite the source data and ignore the destination folder. Use with caution.


## Applications

### Call Logs
The intended application for this is to rename a collection of files created by the [Total Recall](https://play.google.com/store/apps/details?id=com.killermobile.totalrecall&hl=en_GB&gl=US) android app. Minimal implementation will add the call duration to the file name. In addition, it will read from a csv file backup of the calls log, generated by [SuperBackup](https://play.google.com/store/apps/details?id=com.greenchills.superbackup&hl=en_GB&gl=US) and fill in the call number and contact, if available in the csv and missing from the original file name
